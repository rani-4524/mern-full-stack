<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 100px;
        }
    </style>
</head>
<body>
    <div>
        <h1>Counter</h1>
        <div>
            <p>0</p>
            <span>Level 0:</span>
            <button id="increase">Increase</button>
            <button id="decrease">Decrease</button>
        </div>
        <br><br>
        <hr>
        <span>Select Your Theme</span>
        <button id="light">Light</button>
        <button id="dark">dark</button>

        <button id="add-count">Add Count</button>
    </div>
    
    <script>
        const state ={
            theme:"dark",
            level:0
        };

        const counter ={
            count:0,

            elements:{
                increase:document.querySelector("#increase"),
                decrease:document.querySelector("#decrease"),
                showCount:document.querySelector("p"),
                showLevel:document.querySelector("div > span"),
                darkThemeBtn:document.querySelector("#dark"),
                lightThemebtn:document.querySelector("#light"),
            },
            updateLevel(newCount){
                if(newCount>10){
                    this.level = 3;
                }else if(newCount > 5){
                    this.level=2;
                }else if(newCount>0){
                    this.level=1;
                }else{
                    this.level=0;
                }

                this.elements.showLevel.textContent = "Level: " + this.level;
                state.level = this.level;
            },

            updateCount(newCount){
                this.elements.showCount.textContent = newCount;
                this.updateLevel(newCount);
            },

            events(){
                this.elements.increase.addEventListener('click' ,(e)=>{
                    e.preventDefault();
                    this.count++;
                    this.updateCount(this.count);
                });
                this.elements.decrease.addEventListener('click' ,(e)=>{
                    e.preventDefault();
                    this.count--;
                    this.updateCount(this.count);
                });
                 this.elements.darkThemeBtn.addEventListener('click' ,(e)=>{
                    e.preventDefault();
                    document.body.style.backgroundColor="black";
                    this.updateLevel(this.count);
                });
                 this.elements.lightThemebtn.addEventListener('click' ,(e)=>{
                    e.preventDefault();
                    document.body.style.backgroundColor="gray";
                    this.updateLevel(this.count);
                });
            },
        };
        counter.events();
        // let count =0;
        // const increase = document.querySelector("#increase");
        // const decrease = document.querySelector("#decrease");
        // const showCount = document.querySelector("p");

        // increase.addEventListener('click' , (e)=>{
        //     e.preventDefault();
        //     count++;
        //     showCount.textContent=count;
        // })

        // decrease.addEventListener('click' , (e)=>{
        //     e.preventDefault();
        //     count--;
        //     showCount.textContent=count;
        // })

        const obj ={
            count:1,
            addCount(){
                this.count++;
                console.log(this);
            },
        };
        // calling the addCOunt method --> this is referring to obj
        obj.addCount();

        const addBtn = document.querySelector("#add-count");

        // passing the reference of addCount method instead of calling --> this is referring to addBtn element and not obj
        // addBtn.addEventListener('click' ,obj.addCount);

        addBtn.addEventListener('click' , ()=>{
            obj.addCount();
        })
    </script>
</body>
</html>